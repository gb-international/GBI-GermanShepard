(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{240:function(t,a,s){"use strict";s.r(a);var e=s(12),i=s.n(e),n=s(2);function o(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var s=[],e=!0,i=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done)&&(s.push(o.value),!a||s.length!==a);e=!0);}catch(t){i=!0,n=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}return s}(t,a)||function(t,a){if(!t)return;if("string"==typeof t)return r(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r(t,a)}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var l={name:"State",components:{VueSlickCarousel:i.a,Form:n.Form,HasError:n.HasError},data:function(){return{settings:{dots:!0,infinite:!1,autoplay:!0,speed:500,autoplaySpeed:1500,slidesToShow:3,slidesToScroll:3,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},state_data:[],comment_data:[],comment_list:[],state_list:[],reply_modal:!1,comment_id:!1,encyclopedia_id:"",reply_input:"",show:!1,src:"",loadedRatio:0,page:1,numPages:0,form:new n.Form({body:"",encyclopedia_id:"",parent_id:null})}},watch:{"$route.params.id":function(t){this.stateData()}},created:function(){this.stateData(),this.states()},methods:{updateCurrent:function(t){this.page=t},pdfShow:function(t){this.src="",this.show=!0,this.src="/encyclopedia/pdf/"+t},password:function(t,a){t(prompt('password is "test"'))},error:function(t){console.log(t)},stateData:function(){var t=this,a="/api/encyclopedia/".concat(this.$route.params.id);this.$axios(a).then((function(a){t.state_data=a.data,t.form.encyclopedia_id=t.state_data.id;var s="/api/ency-comments/".concat(t.form.encyclopedia_id);t.$axios(s).then((function(a){t.comment_list=a.data}))}))},stateComments:function(){var t="/api/ency-comments/".concat(this.form.encyclopedia_id);this.$axios(t).then((function(t){return t.data}))},states:function(){var t=this;this.$axios.get("/api/encyclopedia-list").then((function(a){t.state_list=a.data}))},ReplyModal:function(t){if(null==localStorage.token)return window.$("#loginButton").click(),!1;this.reply_modal=!this.reply_modal,this.comment_id=t},ReplySubmit:function(){this.reply_modal=!this.reply_modal,this.form.parent_id=this.comment_id,this.form.body=this.reply_input,this.reply_input="",this.addComment()},getImgUrl:function(t){return"/encyclopedia/"+t},getProfileImage:function(t){return"/uploadimage/"+t},addComment:function(){var t=this;null==localStorage.token?(alert("Please login first"),window.$("#loginButton").click()):this.$axios.post("/api/encyclopedia-comments",this.form,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(a){t.stateData(),t.stateComments(),t.form.body="",t.form.parent_id=null}))},goToState:function(t){var a="/encyclopedia/"+t;this.$router.push(a)},scrollToTop:function(){}},filters:{pdfFilter:function(t){return t?t.replace(".pdf",""):""},dateFormat:function(t){t=new Date(t);var a=o(new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit"}).formatToParts(t),5),s=a[0].value,e=a[2].value,i=a[4].value;return"".concat(e,"-").concat(s,"-").concat(i)}}},c=s(0),d=Object(c.a)(l,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.state_data?s("div",{staticClass:"State"},[s("section",{staticClass:"banner-block"},[s("img",{staticClass:"top-img",attrs:{id:"traveleduimg",src:t.state_data.banner_image}})]),t._v(" "),s("div",{staticClass:"container state_body mt-30"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-8"},[s("h4",{staticClass:"state_name mb-20"},[t._v(t._s(t.state_data.state_name))]),t._v(" "),s("div",{staticClass:"state_description",domProps:{innerHTML:t._s(t.state_data.description)}})]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"card state_card"},[s("div",{staticClass:"map_show",domProps:{innerHTML:t._s(t.state_data.map_link)}})]),t._v(" "),s("div",{staticClass:"state_images p-0"},[s("div",{staticClass:"row p-0"},t._l(t.state_data.images,(function(t){return s("div",{key:t.id,staticClass:"col-6 p-0"},[s("img",{staticClass:"p-0",attrs:{src:t.image,loading:"lazy",alt:t.alt}})])})),0)]),t._v(" "),s("div",{staticClass:"card state_card"},[s("p",{staticClass:"p-0 m-0"},[t._v("Itinerary")]),t._v(" "),t._l(t.state_data.itinerarypdfs,(function(a){return s("p",{key:a.id,staticClass:"link pl-2"},[s("router-link",{attrs:{to:"/itinerary-pdf/"+a.slug}},[t._v(t._s(t._f("pdfFilter")(a.slug))+"\n              "),s("img",{staticClass:"encylopedia-pdf",attrs:{src:"/images/icons/pdf.png"}})])],1)}))],2)])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[t.state_list.length?s("div",{staticClass:"state_list"},[s("VueSlickCarousel",t._b({attrs:{arrows:!0,dots:!0}},"VueSlickCarousel",t.settings,!1),t._l(t.state_list,(function(a){return s("div",{key:a.id,staticClass:"card_scroll states_card"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:a.thumbnail,loading:"lazy",alt:a.state_name}}),t._v(" "),s("div",{staticClass:"card-img-overlay text-center"},[s("p",{staticClass:"card-text text-white"},[s("router-link",{attrs:{to:"/encyclopedia/"+a.slug}},[t._v(t._s(a.state_name))])],1)])])])})),0)],1):t._e()]),t._v(" "),s("div",{staticClass:"col-sm-12 p-0"},[s("div",{staticClass:"col-md-8 w-100 p-0"},[s("div",{staticClass:"comment_section w-100"},[s("div",{staticClass:"container mt-3"},[s("h4",[t._v("Reviews")]),t._v(" "),s("form",{staticClass:"form",on:{submit:function(a){return a.preventDefault(),t.addComment()}}},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.body,expression:"form.body"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("body")},attrs:{rows:"3",placeholder:"Share your experiences and insights with us"},domProps:{value:t.form.body},on:{input:function(a){a.target.composing||t.$set(t.form,"body",a.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"body"}}),t._v(" "),t._m(0)],1)]),t._v(" "),t._l(t.comment_list,(function(a){return s("div",{key:a.id,staticClass:"comment_section w-100"},[null==a.parent_id?s("div",[a.user?s("div",{staticClass:"media p-0"},[s("img",{staticClass:"mr-3 rounded-circle w-45",attrs:{src:a.user.information.photo,alt:"John Doe"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("h6",[t._v("\n                        "+t._s(a.user.name)+"\n                        "),s("small",{staticClass:"text-small"},[s("i",[t._v(t._s(t._f("dateFormat")(a.created_at)))])]),t._v(" "),s("button",{staticClass:"btn btn-outline-dark float-right replybtn",on:{click:function(s){return t.ReplyModal(a.id)}}},[t._v("\n                          Reply\n                        ")])]),t._v(" "),s("p",[t._v(t._s(a.body))]),t._v(" "),1==t.reply_modal&&t.comment_id==a.id?s("div",[s("form",{staticClass:"form",on:{submit:function(a){return a.preventDefault(),t.ReplySubmit()}}},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply_input,expression:"reply_input"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Type here..."},domProps:{value:t.reply_input},on:{input:function(a){a.target.composing||(t.reply_input=a.target.value)}}}),t._v(" "),t._m(1,!0)])])]):t._e(),t._v(" "),t._l(t.state_data.comments,(function(e){return s("div",{key:e.id},[e.parent_id==a.id?s("div",{staticClass:"media p-0"},[s("img",{staticClass:"mr-3 rounded-circle w-45",attrs:{src:a.user.information.photo,alt:"Jane Doe"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("h6",[t._v("\n                              "+t._s(a.user.name)+"\n                              "),s("small",{staticClass:"text-small"},[s("i",[t._v(t._s(t._f("dateFormat")(a.created_at)))])])]),t._v(" "),s("p",[t._v(t._s(e.body))])])]):t._e()])}))],2)]):t._e()]):t._e()])}))],2)])])])])])]):t._e()}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col text-right"},[a("button",{staticClass:"btn btn-info profile_button comment_btn",attrs:{type:"submit"}},[this._v("\n                        Submit\n                      ")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col text-right"},[a("button",{staticClass:"btn btn-info profile_button comment_btn",attrs:{type:"submit"}},[this._v("\n                                  Submit\n                                ")])])])}],!1,null,null,null);a.default=d.exports}}]);