"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8029],{33400:(t,e,a)=>{a.d(e,{Z:()=>o});var i=a(1519),n=a.n(i)()((function(t){return t[1]}));n.push([t.id,"*[data-v-22b5d89b]{background:#fff;box-sizing:border-box;outline:none}body[data-v-22b5d89b]{font-family:Sans-serif;margin:0}.logo-img[data-v-22b5d89b]{height:70px;margin-right:2%;width:auto}.PageTitle[data-v-22b5d89b]{font-size:25px;font-weight:550;padding:30px 0 5px;text-align:center}.feedback-full[data-v-22b5d89b]{background-color:#fff;display:flex;flex-direction:column;padding:8px 30px;width:100%}.feedback-body[data-v-22b5d89b]{display:flex;flex:1;margin:0 auto;width:80%}.message-top[data-v-22b5d89b]{align-items:center;display:flex;flex:1;justify-content:space-between}.feedback-container[data-v-22b5d89b]{display:flex;height:100%}.mail-left-side[data-v-22b5d89b]{padding:20px 0 5px}.mail-left-side[data-v-22b5d89b],.mail-left-side-m[data-v-22b5d89b]{height:100%;overflow:auto;width:40%}.mail-left-side-m[data-v-22b5d89b]{display:none;padding:5px 0}.mail-card[data-v-22b5d89b]{background-color:#fff;border:1px solid;border-left:5px solid;box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 2px 7px 0 rgba(0,0,0,.19);margin-bottom:15px;margin-top:5px;padding:15px;transition:.3s}.mail-card[data-v-22b5d89b]:hover{box-shadow:none}.mail-names[data-v-22b5d89b]{color:#000000b8;font-size:16px;font-weight:500}.mails[data-v-22b5d89b]{align-items:center;display:flex;justify-content:space-between}.mail-info[data-v-22b5d89b]{color:grey;font-size:12.5px;font-weight:500;margin:2px 65px 2px 0}.mail-info p[data-v-22b5d89b]{font-size:15px;font-weight:600;margin-bottom:6px;margin-top:-2.5px}.date[data-v-22b5d89b]{color:grey;float:right;font-size:12px;font-weight:500}.mail-right-side[data-v-22b5d89b]{flex:1;margin-left:35px;margin-top:35px}.mail-right-body[data-v-22b5d89b]{background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 2px 7px 0 rgba(0,0,0,.19);color:#000000b8;font-size:16px;margin:20px 10px;padding:22px 20px 15px;position:relative}.message-body[data-v-22b5d89b]{color:#000;height:auto;margin-top:18px;overflow:auto;width:100%}.message-title[data-v-22b5d89b]{color:grey;display:flex;font-size:14px;font-weight:500}.message-title b[data-v-22b5d89b]{color:#000000b8;font-size:14px;font-weight:700;padding-left:5px}.message-tour-info[data-v-22b5d89b]{color:#1f1c1c;font-size:16px;font-weight:500;margin-bottom:21px}.mail-right-top[data-v-22b5d89b]{display:flex;flex-direction:row;justify-content:flex-end;margin-left:10px}.cButton[data-v-22b5d89b]{border:1px;border-radius:3px;border-radius:100px;outline:none}.replyButton[data-v-22b5d89b]{background-color:#3ebee4;color:#fff;font-size:19px!important;margin-top:20px;padding:12px 38px}.replyButton[data-v-22b5d89b],.sendLinkButton[data-v-22b5d89b]{font-family:Hawaii 5-0,sans-serif;font-weight:600}.sendLinkButton[data-v-22b5d89b]{background-color:#f4f6f9;border:2px solid #3ebee4;color:#3ebee4;font-size:17px!important;margin-top:12px;padding:7px 38px}.attachIcon[data-v-22b5d89b]{color:grey;font-size:32px;font-weight:300;padding-right:10px}.filter-dd[data-v-22b5d89b]{margin-left:30px}.filter-dd[data-v-22b5d89b],.filter-dd2[data-v-22b5d89b]{border-radius:10px}.arrow-buttons[data-v-22b5d89b]{background-color:#fff;border:none;margin-left:10px;padding:5px 20px}.mail-left-top[data-v-22b5d89b]{display:flex;flex-direction:row;justify-content:space-between;margin:7px 4px 15px}.bottom-items[data-v-22b5d89b]{bottom:0;margin:20px;position:absolute;right:0}.customButton[data-v-22b5d89b]{display:none}.ReadStatus[data-v-22b5d89b]{border:1px solid;font-size:11px;font-weight:500;text-align:center}[data-v-22b5d89b]::-webkit-scrollbar{width:10px}[data-v-22b5d89b]::-webkit-scrollbar-track{background:#f1f1f1}[data-v-22b5d89b]::-webkit-scrollbar-thumb{background:#888}[data-v-22b5d89b]::-webkit-scrollbar-thumb:hover{background:#555}@media only screen and (max-width:1024px){.feedback-body[data-v-22b5d89b]{width:90%}}@media only screen and (max-width:823px){.logo-img[data-v-22b5d89b]{height:45px;margin-right:1px;margin-top:-15px}.feedback-body[data-v-22b5d89b]{width:100%}.feedback-full[data-v-22b5d89b]{padding:8px 30px}.mail-right-body[data-v-22b5d89b]{margin:20px 0}.mail-right-side[data-v-22b5d89b]{margin-left:0;margin-top:0}.mail-left-side[data-v-22b5d89b],.mail-right-side[data-v-22b5d89b]{display:none;width:100%}.mail-left-side-m[data-v-22b5d89b]{display:inline;width:100%}.customButton[data-v-22b5d89b]{background-color:#17a2b8;border-color:#17a2b8;color:#fff;display:inline}.PageTitle[data-v-22b5d89b]{font-size:20px;padding:18px 0 5px}.mail-info[data-v-22b5d89b]{color:grey;font-size:11px;font-weight:500;margin:2px 65px 2px 0}.mail-info p[data-v-22b5d89b]{font-size:12px;font-weight:600;margin-bottom:6px;margin-top:-2.5px}.mail-names[data-v-22b5d89b]{color:#000000b8;font-size:13px;font-weight:500}}",""]);const o=n},92570:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});const i={name:"FeedbackList",components:{},data:function(){return{notif_list:[],filter:"",perPage:"",options:[],currentItem:null,currentPage:1,rightDisplay:"",leftDisplay:"",windowHeight:window.innerHeight,listType:"all",userData:"",sortType:"All"}},watch:{windowHeight:function(t,e){this.rightDisplay="",this.leftDisplay=""}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},mounted:function(){var t=this;this.userData=this.$cookies.get("user"),this.getList(this.currentPage),this.$nextTick((function(){window.addEventListener("resize",t.onResize)}))},methods:{changeSort:function(t){this.sortType=t,this.currentPage=1,this.getList(this.currentPage)},changeList:function(t){this.listType=t,this.currentPage=1,this.getList(this.currentPage)},onResize:function(){this.windowHeight=window.innerHeight},getList:function(t){var e=this;this.$axios.get("/api/user-notifs/"+this.userData.id+"/"+this.sortType.toLowerCase()+"/"+this.listType+"?page="+t).then((function(t){e.notif_list=t.data}))},selectNotif:function(t){this.currentItem=t,this.currentItem.email_s="<"+t.email+">",this.currentItem.admin_email="<admin@gbinternational.in>"},markRead:function(t){var e=this;0==t.read&&(this.$axios.post("/api/notification/mark-read",{id:t.id},{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$store.commit("notifCount",t.data)})),t.read=1)},redirNotif:function(t){var e=this;0==t.read&&(this.$axios.post("/api/notification/mark-read",{id:t.id},{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.userData.notifCount=t.data,e.$cookies.set("user",e.userData)})),t.read=1),this.rightDisplay="inline",this.leftDisplay="none",this.currentItem=t,this.currentItem.email_s="<"+t.email+">",this.currentItem.admin_email="<admin@gbinternational.in>"},redirList:function(){this.rightDisplay="none",this.leftDisplay="inline"}},filters:{htmlFilter:function(t){return t.replace(/(<([^>]+)>)/gi,"")},contentFilter:function(t){return"itinerary"==t?"our newly added itinerary":"blog"==t?"our new blog post":"travel"==t?"the new updates for your recent travel booking":"payment"==t?"your recent payment activity":"website"==t?"our website alert":"our newly added "+t},subjectFilter:function(t){return"itinerary"==t?"New itinerary from GBI":"blog"==t?"New blog from GBI":"travel"==t?"New travel update from GBI":"website"==t?"New website alert from GBI":"payment"==t?"New payment update from GBI":"New updates from GBI"}}};var n=a(93379),o=a.n(n),r=a(33400),s={insert:"head",singleton:!1};o()(r.Z,s);r.Z.locals;const d=(0,a(51900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h1",{staticClass:"PageTitle"},[t._v("Notification Panel")]),t._v(" "),t.notif_list&&t.notif_list.meta?a("div",{staticClass:"feedback-container"},[a("div",{staticClass:"feedback-full"},[a("div",{staticClass:"feedback-body"},[a("div",{staticClass:"mail-left-side"},[a("div",{staticClass:"mail-left-top"},[a("div",[a("button",{staticClass:"fas fa-chevron-left arrow-buttons",attrs:{disabled:1===t.currentPage},on:{click:function(e){return t.getList(t.currentPage-=1)}}}),t._v(" "),a("button",{staticClass:"fas fa-chevron-right arrow-buttons",attrs:{disabled:t.notif_list.meta.last_page<=t.currentPage},on:{click:function(e){return t.getList(t.currentPage+=1)}}}),t._v(" "),a("b-dropdown",{staticClass:"filter-dd",attrs:{id:"dropdown",size:"sm",text:t.sortType,variant:""}},[a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeSort("All")}}},[t._v("All")]),t._v(" "),a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeSort("Read")}}},[t._v("Read")]),t._v(" "),a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeSort("Unread")}}},[t._v("Unread")])],1)],1),t._v(" "),a("b-dropdown",{staticClass:"filter-dd2",attrs:{id:"dropdown",size:"sm",text:"Page "+t.currentPage+" of "+t.notif_list.meta.last_page,variant:""}},[a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeList("all")}}},[t._v("Newest")]),t._v(" "),a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeList("old")}}},[t._v("Oldest")])],1)],1),t._v(" "),t._l(t.notif_list.data,(function(e){return a("div",{key:e.id,staticClass:"mail-card",style:{"border-color":e.color},on:{click:function(a){t.selectNotif(e),t.markRead(e)}}},[a("div",{staticClass:"mails"},[a("div",{staticClass:"mail-names",staticStyle:{clear:"both"}},[a("b",[t._v(t._s(t._f("subjectFilter")(e.category)))])]),t._v(" "),a("div",{staticClass:"date"},[t._v(t._s(e.time))])]),t._v(" "),a("div",{staticClass:"mails"},[a("div",{staticClass:"mail-info"},[a("p",[t._v("From: admin@gbinternational.in")]),t._v(" "),a("p2",[t._v("Dear "+t._s(t.userData.name)+", please check out "+t._s(t._f("contentFilter")(e.category))+"...")])],1),t._v(" "),a("div",[a("img",{attrs:{src:t.$gbiAssets+"/assets/front/icons/"+e.badge+".png"}}),t._v(" "),a("p",{staticClass:"ReadStatus",style:0==e.read?"border-color: black; color: black":"border-color: "+e.color+"; color: "+e.color},[t._v(t._s(0==e.read?"Unread":"Read"))])])])])}))],2),t._v(" "),a("div",{staticClass:"mail-left-side-m",style:{display:t.leftDisplay}},[a("div",{staticClass:"mail-left-top"},[a("div",[a("button",{staticClass:"fas fa-chevron-left arrow-buttons",attrs:{disabled:1===t.currentPage},on:{click:function(e){return t.getList(t.currentPage-=1)}}}),t._v(" "),a("button",{staticClass:"fas fa-chevron-right arrow-buttons",attrs:{disabled:t.notif_list.meta.last_page<=t.currentPage},on:{click:function(e){return t.getList(t.currentPage+=1)}}}),t._v(" "),a("b-dropdown",{staticClass:"filter-dd",attrs:{id:"dropdown",size:"sm",text:t.sortType,variant:""}},[a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeSort("All")}}},[t._v("All")]),t._v(" "),a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeSort("Read")}}},[t._v("Read")]),t._v(" "),a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeSort("Unread")}}},[t._v("Unread")])],1)],1),t._v(" "),a("b-dropdown",{staticClass:"filter-dd2",attrs:{id:"dropdown",size:"sm",text:"Page "+t.currentPage+" of "+t.notif_list.meta.last_page,variant:""}},[a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeList("all")}}},[t._v("Newest")]),t._v(" "),a("b-dropdown-item",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.changeList("old")}}},[t._v("Oldest")])],1)],1),t._v(" "),t._l(t.notif_list.data,(function(e){return a("div",{key:e.id,staticClass:"mail-card",style:{"border-color":e.color},on:{click:function(a){t.redirNotif(e),t.markRead(e)}}},[a("div",{staticClass:"mails"},[a("div",{staticClass:"mail-names",staticStyle:{clear:"both"}},[a("b",[t._v(t._s(t._f("subjectFilter")(e.category)))])]),t._v(" "),a("div",{staticClass:"date"},[t._v(t._s(e.time))])]),t._v(" "),a("div",{staticClass:"mails"},[a("div",{staticClass:"mail-info"},[a("p",[t._v("admin@gbinternational.in")]),t._v(" "),a("p2",[t._v("Dear "+t._s(t.userData.name)+", please check out "+t._s(t._f("contentFilter")(e.category))+"...")])],1),t._v(" "),a("div",[a("img",{attrs:{src:t.$gbiAssets+"/assets/front/icons/"+e.badge+".png"}}),t._v(" "),a("p",{staticClass:"ReadStatus",style:0==e.read?"border-color: black; color: black":"border-color: "+e.color+"; color: "+e.color},[t._v(t._s(0==e.read?"Unread":"Read"))])])])])}))],2),t._v(" "),a("div",{staticClass:"mail-right-side",style:{display:t.rightDisplay}},[a("div",[a("button",{staticClass:"btn btn-info customButton",on:{click:t.redirList}},[t._v("Back")])]),t._v(" "),t.currentItem?a("div",{staticClass:"mail-right-body"},[a("div",{staticClass:"message-top"},[a("div",{staticClass:"message-title"},[t._m(0),t._v(" "),a("p",[a("b",[t._v("GBI "+t._s(t.currentItem.admin_email))]),t._v(" "),a("br"),a("b",[t._v(t._s(t.currentItem.fullDate))])])]),t._v(" "),a("img",{staticClass:"logo-img",attrs:{src:t.$gbiAssets+"/assets/admin/default/icon/admin_logo.png"}})]),t._v(" "),a("div",{staticClass:"message-body"},[a("p",{staticClass:"message-tour-info"},[a("b",[t._v("Subject: ")]),t._v(t._s(t._f("subjectFilter")(t.currentItem.category)))]),t._v(" "),a("p",{staticClass:"font-size: 15px; color: black;"},[t._v("\n             Dear "+t._s(t.userData.name)+", please check out "+t._s(t._f("contentFilter")(t.currentItem.category))+", more details mentioned below.\n            ")]),t._v(" "),a("p",{staticStyle:{"margin-top":"25px"}},[t._v("\n               "+t._s(t._f("htmlFilter")(t.currentItem.data.body))+"\n            ")])])]):a("div",{staticClass:"mail-right-body",staticStyle:{height:"80vh"}})])])])]):t._e()])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("\n                From: \n                "),a("br"),t._v("Date:\n                ")])}],!1,null,"22b5d89b",null).exports}}]);