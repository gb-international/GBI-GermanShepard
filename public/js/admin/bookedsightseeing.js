(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{15:function(t,i,e){"use strict";var n=e(0),s=Object(n.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold"},[this._t("default",[this._v("submit")])],2)}),[],!1,null,null,null);i.a=s.exports},17:function(t,i,e){"use strict";var n={props:["url"],methods:{goBack:function(){this.$router.back()}}},s=e(0),a=Object(s.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("span",[t.url?e("router-link",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{to:t.url},on:{click:function(i){return t.goBack()}}},[t._t("default",[t._v("Back")])],2):e("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{type:"button"},on:{click:function(i){return t.goBack()}}},[t._t("default",[t._v("Back")])],2)],1)}),[],!1,null,null,null);i.a=a.exports},231:function(t,i,e){"use strict";e.r(i);var n=e(1),s=e(14),a=e(4),r=e(0),o=Object(r.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"btn btn-info btn_plus",attrs:{type:"button"}},[i("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],!1,null,null,null).exports,l=Object(r.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"btn btn-info btn_plus",attrs:{type:"button"}},[i("i",{staticClass:"fas fa-minus",attrs:{"aria-hidden":"true"}})])}],!1,null,null,null).exports,u=e(3),c={name:"List",components:{Form:n.Form,"has-error":n.HasError,ModelSelect:s.ModelSelect,"form-buttons":a.a,"form-layout":u.a,"plus-button":o,"minus-button":l},data:function(){return{row_input:"",itineraryday_list:"",tour:"",options:[],total_row:[]}},created:function(){this.sightseeingData(),this.itineraryData()},methods:{sightseeingData:function(){var t=this;axios.get("/api/sightseeings").then((function(i){t.options=i.data.data}))},itineraryData:function(){var t=this;axios.get("/api/itinerarydayget/".concat(this.$route.params.itinerary_id)).then((function(i){t.itineraryday_list=i.data;for(var e=0;e<t.itineraryday_list.length;e++)t.total_row.push([{tour_id:t.$route.params.id,tour_code:t.$route.params.tour_code,itineraryday_id:t.itineraryday_list[e].id,sightseeing_id:""}])}))},addRow:function(t){this.total_row[t].push({tour_id:this.$route.params.id,tour_code:this.$route.params.tour_code,itineraryday_id:this.itineraryday_list[t].id,sightseeing_id:""})},removeRow:function(t){1!=this.total_row[t].length&&this.total_row[t].splice(-1,1)},addSightseeing:function(){var t=this;console.log(this.total_row),axios.post("/api/bookedsightseeings",this.total_row).then((function(i){return console.log(i),1==i.data?(t.$toast.fire({icon:"error",title:"Already sightseeing added for this tour !!!"}),!1):2==i.data?(t.$toast.fire({icon:"error",title:"Try again"}),!1):void t.$toast.fire({icon:"success",title:"Sightseeings Added successfully"})})).catch((function(){}))}}},d=Object(r.a)(c,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("form-layout",{scopedSlots:t._u([{key:"formdata",fn:function(){return[e("div",{staticClass:"reservation pl-4 pt-2"},[e("form",{attrs:{role:"form"},on:{submit:function(i){return i.preventDefault(),t.addSightseeing()}}},[t._l(t.itineraryday_list,(function(i,n){return e("div",{key:i.id,staticClass:"row w-100 p-3 card-layout"},[e("div",{staticClass:"col-sm-5"},[e("p",[e("label",{attrs:{for:"name"}},[t._v("Sightseeing Day "+t._s(i.day)+" ("),e("small",[t._v(t._s(i.day_source)+" - "+t._s(i.day_destination))]),t._v(")")])])]),t._v(" "),e("div",{staticClass:"col-sm-5"},t._l(t.total_row[n],(function(i,s){return e("div",{key:s,staticClass:"row w-100"},[e("div",{staticClass:"col-sm-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.total_row[n][s].sightseeing_id,expression:"total_row[index][i].sightseeing_id"}],staticClass:"form-control select-field",attrs:{placeholder:"From"},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.total_row[n][s],"sightseeing_id",i.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",hidden:""}},[t._v("Select Sightseeing")]),t._v(" "),t._l(t.options,(function(i){return e("option",{key:i.id,domProps:{value:i.id}},[t._v(t._s(i.name))])}))],2)])])})),0),t._v(" "),e("div",{staticClass:"col-sm-2"},[e("plus-button",{nativeOn:{click:function(i){return t.addRow(n)}}}),t._v(" "),e("minus-button",{nativeOn:{click:function(i){return t.removeRow(n)}}})],1)])})),t._v(" "),e("form-buttons",{staticClass:"mb-5"})],2)])]},proxy:!0}])})}),[],!1,null,null,null);i.default=d.exports},3:function(t,i,e){"use strict";var n=e(0),s=Object(n.a)({},(function(){var t=this.$createElement,i=this._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row justify-content-around"},[i("div",{staticClass:"col-md-12 pl-4 pb-5"},[this._t("formdata")],2)])])])}),[],!1,null,null,null);i.a=s.exports},4:function(t,i,e){"use strict";var n=e(17),s=e(15),a={components:{"back-button":n.a,"submit-button":s.a}},r=e(0),o=Object(r.a)(a,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-sm-8"},[i("back-button"),this._v(" "),i("submit-button")],1)])}),[],!1,null,null,null);i.a=o.exports}}]);