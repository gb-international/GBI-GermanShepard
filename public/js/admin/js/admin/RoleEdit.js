"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8763],{20947:(t,e,s)=>{s.d(e,{Z:()=>i});const n={name:"BackButtonGBI",props:["url"],methods:{goBack:function(){this.$router.back()}}};const i=(0,s(51900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t.url?s("router-link",{staticClass:"btn btn-primary itrn_add_btn back_btn text-capitalize font-weight-bold",attrs:{to:t.url},on:{click:function(e){return t.goBack()}}},[t._t("default",[t._v("Back")])],2):s("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-capitalize font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._t("default",[t._v("Back")])],2)],1)}),[],!1,null,null,null).exports},91178:(t,e,s)=>{s.d(e,{Z:()=>o});var n=s(20947),i=s(53116);const a={name:"FormButtonGBI",components:{"back-button":n.Z,"submit-button":i.Z}};const o=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-sm-9 text-center"},[s("back-button"),t._v(" "),s("submit-button")],1)])}),[],!1,null,null,null).exports},53116:(t,e,s)=>{s.d(e,{Z:()=>i});const n={name:"SubmitButtonGBI",data:function(){return{}}};const i=(0,s(51900).Z)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-capitalize font-weight-bold"},[t._t("default",[t._v("submit")])],2)}),[],!1,null,null,null).exports},85516:(t,e,s)=>{s.d(e,{Z:()=>i});const n={name:"FromLayoutGBI",data:function(){return{}}};const i=(0,s(51900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row justify-content-around"},[s("div",{staticClass:"col-md-12 pl-4 pb-5",staticStyle:{position:"relative"}},[t._t("formdata")],2)])])])}),[],!1,null,null,null).exports},76275:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var n=s(50175),i=s(91178),a=s(85516);const o={name:"NewRole",components:{Form:n.Form,"has-error":n.HasError,"form-buttons":i.Z,"form-layout":a.Z},data:function(){return{permissions:[],has_permission:[],not_has_permission:[],items:[],form:new n.Form({name:"",permissions:""})}},created:function(){var t=this,e="/api/role/".concat(this.$route.params.id,"/edit");axios.get(e).then((function(e){setTimeout((function(){return $("#example").DataTable()}),1e3),t.form.fill(e.data),t.has_permission=e.data.permissions})),axios.get("/api/permission").then((function(e){setTimeout((function(){return $("#example").DataTable()}),1e3),t.permissions=e.data;for(var s=0;s<t.permissions.length;s++)t.items.push({id:t.permissions[s].id});for(var n=0;n<t.items.length;n++){var i=0;for(s=0;s<t.has_permission.length;s++)t.items[n].id==t.has_permission[s].id&&(i=1);0==i&&(t.items[n].id=!1)}}))},methods:{UpdateRole:function(){var t=this;this.form.permissions=this.items,this.form.put("/api/role/".concat(this.$route.params.id)).then((function(e){t.$toast.fire({icon:"success",title:"Successfully Updated"})})).catch((function(){}))},goBack:function(){this.$router.push("/list-role/")}}};const r=(0,s(51900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form-layout",{scopedSlots:t._u([{key:"formdata",fn:function(){return[s("form",{attrs:{role:"form",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.UpdateRole()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Role name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",placeholder:"Enter School name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"name"}})],1)]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"row"},t._l(t.permissions,(function(e,n){return s("div",{key:e.id,staticClass:"col-sm-4"},[s("label",{staticClass:"form-check-label font-18 mb-20"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.items[n].id,expression:"items[index].id"}],attrs:{type:"checkbox",name:"checkbox","true-value":e.id},domProps:{value:e.id,checked:Array.isArray(t.items[n].id)?t._i(t.items[n].id,e.id)>-1:t._q(t.items[n].id,e.id)},on:{change:function(s){var i=t.items[n].id,a=s.target,o=!!a.checked&&e.id;if(Array.isArray(i)){var r=e.id,c=t._i(i,r);a.checked?c<0&&t.$set(t.items[n],"id",i.concat([r])):c>-1&&t.$set(t.items[n],"id",i.slice(0,c).concat(i.slice(c+1)))}else t.$set(t.items[n],"id",o)}}}),t._v(" "),s("span",{staticClass:"text-capitalize"},[t._v(t._s(e.name))])]),t._v(" "),s("hr")])})),0)])]),t._v(" "),s("form-buttons")],1)]},proxy:!0}])})}),[],!1,null,null,null).exports}}]);