"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9443],{28111:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"TableLoader"};const r=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center admin-bg-color my-2"},[s("b-spinner",{staticClass:"align-middle"}),t._v(" "),s("strong",[t._v("Loading...")])],1)}),[],!1,null,null,null).exports},41583:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"AddButtonGBI",props:["url"],computed:{hasPerms:function(){var t=this;if(1==window.userRole)return!0;return window.createPerms.some((function(e){return e.permission_id===t.$route.meta.permId}))}}};const r=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasPerms?s("router-link",{staticClass:"text-capitalize font-weight-bold",attrs:{to:t.url}},[t._t("default",[t._v("add")])],2):t._e()}),[],!1,null,null,null).exports},63562:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"DeleteButtonGBI",data:function(){return{}},computed:{hasPerms:function(){var t=this;if(1==window.userRole)return!0;return window.deletePerms.some((function(e){return e.permission_id===t.$route.meta.permId}))}}};const r=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasPerms?s("span",{staticClass:"delete_link",attrs:{title:"Delete Item"}},[t._m(0)]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"badge badge-danger incrIconSize pointer"},[e("i",{staticClass:"far fa-trash-alt"})])}],!1,null,null,null).exports},59216:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"ListLayoutGBI",components:{"add-button":s(41583).Z},props:["addurl","buttontext"],computed:{hasPerms:function(){var t=this;if(1==window.userRole)return!0;return window.createPerms.some((function(e){return e.permission_id===t.$route.meta.permId}))}}};const r=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"content"},[s("div",{staticClass:"row justify-content-around"},[s("div",{staticClass:"col-md-12 pb-5"},[s("div",{staticClass:"container container_admin_body list-section pb-5"},[s("b-row",{staticClass:"mb-1 mt-1",attrs:{"align-h":"between"}},[s("b-col",{staticClass:"top_btn p-0",attrs:{md:"3",cols:"4"}},[t.addurl&&t.hasPerms?s("div",[s("add-button",{attrs:{url:t.addurl}},[t._v(t._s(t.buttontext))])],1):t._e()]),t._v(" "),s("b-col",{attrs:{cols:"2"}}),t._v(" "),s("b-col",{staticClass:"p-0",attrs:{cols:"3"}},[t._t("perpage")],2),t._v(" "),s("b-col",{staticClass:"p-0",attrs:{md:"3",cols:"4"}},[t._t("searchbar")],2)],1),t._v(" "),s("b-row",{staticClass:"text-capitalize h-100"},[t._t("table"),t._v(" "),s("div",{staticClass:"w-100"},[t._t("pagination")],2)],2)],1)])])])}),[],!1,null,null,null).exports},43910:(t,e,s)=>{s.r(e),s.d(e,{default:()=>u});var a=s(59216),r=s(63562),n=s(28111),o=s(50175),i=s(20629);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const d={name:"ListFood",components:{"list-layout":a.Z,"table-loader":n.Z,"delete-icon":r.Z,Form:o.Form,"has-error":o.HasError},data:function(){return{fields:[{key:"name",label:"NAME",sortable:!0,thClass:"table-head"},{key:"quantity",label:"AMOUNT",sortable:!0,thClass:"table-head"},{key:"updated_at",label:"LAST UPDATE",sortable:!0,thClass:"table-head"},{key:"action",label:"ACTION",thClass:"table-head"}],filter:"",form:new o.Form({name:"",quantity:"",tour_id:this.$route.params.tour_id,tour_code:this.$route.params.tour_code}),editid:"",updateindex:""}},mounted:function(){this.getitems()},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},(0,i.rn)(["items"])),methods:{getitems:function(){var t=this.$route.params.tour_code;this.$store.dispatch("getItems","/foods/"+t)},deleteItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=c({api:"/foods/"+t,index:e},"index",e);this.$store.dispatch("deleteItem",s)},editFood:function(t,e){this.form.fill(t),this.editid=t.id,this.updateindex=e},foodModal:function(){this.form.name="",this.form.quantity="",this.editid="",this.updateindex=""},updateFood:function(){var t=this;this.form.patch("/api/foods/".concat(this.editid)).then((function(e){t.getitems(),t.$swal.fire("Success","Successfully updated !!!","success"),$(".close").click()})).catch((function(){}))},submitForm:function(){var t=this;this.form.post("/api/foods").then((function(e){t.getitems(),$(".close").click(),t.$swal.fire("Success","Successfully Added !!!","success")})).catch((function(){}))}}};const u=(0,s(51900).Z)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pt-4"},[s("div",{staticClass:"pl-3  top_btn text-uppercase font-weight-bold"},[s("a",{staticClass:"pointer text-white",attrs:{href:"#","data-toggle":"modal","data-target":"#foodModal"},on:{click:function(e){return t.foodModal()}}},[t._v("NEW FOOD")])]),t._v(" "),s("list-layout",{scopedSlots:t._u([{key:"searchbar",fn:function(){return[s("b-form-input",{staticClass:"radius-0",attrs:{type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"table",fn:function(){return[s("b-table",{staticClass:"w-100 table-layout",attrs:{id:"table-transition",striped:"",hover:"",outlined:"","sticky-header":"460px",fields:t.fields,items:t.items.data,busy:t.$store.getters.isBusy,filter:t.filter,"primary-key":"id"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[s("table-loader")]},proxy:!0},{key:"cell(action)",fn:function(e){return[s("span",{staticClass:"edit_link pointer",attrs:{"data-toggle":"modal","data-target":"#foodModal"},on:{click:function(s){return t.editFood(e.item,e.index)}}},[s("span",{staticClass:"badge badge-primary",attrs:{title:"View Itinerary"}},[s("i",{staticClass:"fas fa-pencil-alt"})])]),t._v(" "),s("delete-icon",{nativeOn:{click:function(s){return t.deleteItem(e.item.id,e.index)}}})]}}])}),t._v(" "),s("div",{staticClass:"modal",attrs:{id:"foodModal"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content simple-form-bg"},[s("div",{staticClass:"modal-body"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n                Ã—\n              ")]),t._v(" "),s("p",[t._v("Add New Food")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"name"}})],1),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Quantity")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quantity,expression:"form.quantity"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("quantity")},attrs:{type:"text"},domProps:{value:t.form.quantity},on:{input:function(e){e.target.composing||t.$set(t.form,"quantity",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"quantity"}})],1),t._v(" "),s("div",{staticClass:"w-100 text-center"},[""==t.editid?s("button",{staticClass:"btn itrn_add_btn",attrs:{type:"submit"}},[t._v("\n                    SAVE\n                  ")]):t._e(),t._v(" "),""!=t.editid?s("button",{staticClass:"btn itrn_add_btn",attrs:{type:"button"},on:{click:function(e){return t.updateFood()}}},[t._v("\n                    UPDATE\n                  ")]):t._e()])])])])])])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports}}]);