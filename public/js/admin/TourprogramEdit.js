(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{15:function(t,r,a){"use strict";var e=a(0),i=Object(e.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold"},[this._t("default",[this._v("submit")])],2)}),[],!1,null,null,null);r.a=i.exports},17:function(t,r,a){"use strict";var e={props:["url"],methods:{goBack:function(){this.$router.back()}}},i=a(0),s=Object(i.a)(e,(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("span",[t.url?a("router-link",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{to:t.url},on:{click:function(r){return t.goBack()}}},[t._t("default",[t._v("Back")])],2):a("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{type:"button"},on:{click:function(r){return t.goBack()}}},[t._t("default",[t._v("Back")])],2)],1)}),[],!1,null,null,null);r.a=s.exports},3:function(t,r,a){"use strict";var e=a(0),i=Object(e.a)({},(function(){var t=this.$createElement,r=this._self._c||t;return r("section",{staticClass:"content"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row justify-content-around"},[r("div",{staticClass:"col-md-12 pl-4 pb-5"},[this._t("formdata")],2)])])])}),[],!1,null,null,null);r.a=i.exports},331:function(t,r,a){"use strict";a.r(r);var e=a(16),i=a(14),s=a(21),o=a.n(s),n=a(1),l=a(17),c=a(15),u=a(3),m={name:"New",components:{ModelSelect:i.ModelSelect,Multiselect:o.a,VueEditor:e.a,Form:n.Form,"has-error":n.HasError,"back-button":l.a,"submit-button":c.a,"form-layout":u.a},data:function(){return{img_image:"",itinerary_list:[],form:new n.Form({title:"",description:"",image:"",alt:"",itinerary:[]})}},created:function(){this.itineraryData(),this.TourProgramList()},methods:{itineraryData:function(){var t=this;axios.get("/api/itinerary").then((function(r){t.data=r.data;for(var a=0;a<t.data.length;a++)t.itinerary_list.push({id:t.data[a].id,name:t.data[a].title})}))},TourProgramList:function(){var t=this,r="/api/tourprogram/".concat(this.$route.params.id,"/edit");axios.get(r).then((function(r){t.form.fill(r.data),t.img_image="images/tourprogram/"+t.form.image;var a=t.form.itinerary;t.form.itinerary=[];for(var e=0;e<t.data.length;e++)t.form.itinerary.push({id:a[e].id,name:a[e].title});console.log(t.form)}))},getImgUrl:function(t){return"/images/tourprogram/"+t},changeImage:function(t){var r=this,a=t.target.files[0],e=new FileReader;e.onload=function(t){r.form.image=t.target.result,r.form.alt=a.name,r.img_image=t.target.result},e.readAsDataURL(a)},slugCreate:function(t){var r="";r=t.target.value.toLowerCase().replace(/\s*$/g,""),this.form.slug=r.replace(/\s+/g,"-")},addItinerary:function(){var t=this;console.log(this.form);var r="/api/tourprogram/".concat(this.$route.params.id);this.form.put(r).then((function(r){t.$router.push("/tourprogram"),console.log(r),t.$toast.fire({icon:"success",title:"Itinerary Updated successfully"})})).catch((function(){}))}}},f=a(0),d=Object(f.a)(m,(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("form-layout",{scopedSlots:t._u([{key:"formdata",fn:function(){return[a("form",{attrs:{role:"form",enctype:"multipart/form-data"},on:{submit:function(r){return r.preventDefault(),t.addItinerary()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"title"},[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("title")},attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(r){r.target.composing||t.$set(t.form,"title",r.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group itinerary_image"},[a("label",{staticClass:"label",attrs:{for:"image"}},[t._v("Image !")]),a("br"),t._v(" "),a("input",{staticClass:"select_image",class:{"is-invalid":t.form.errors.has("image")},attrs:{type:"file",accept:"jpeg,jpg,png,gif"},on:{change:function(r){return t.changeImage(r,"image")}}}),t._v(" "),a("img",{attrs:{src:t.img_image,alt:"",width:"80",height:"80"}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"image"}})],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"descriptionId"}},[t._v("Description")]),t._v(" "),a("vue-editor",{class:{"is-invalid":t.form.errors.has("description")},model:{value:t.form.description,callback:function(r){t.$set(t.form,"description",r)},expression:"form.description"}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"description"}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"description"}})],1)])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"mode_of_transport"}},[t._v("Tour category")]),a("br"),t._v(" "),a("multiselect",{attrs:{options:t.itinerary_list,multiple:!0,"close-on-select":!0,placeholder:"Pick some",label:"name","track-by":"name"},model:{value:t.form.itinerary,callback:function(r){t.$set(t.form,"itinerary",r)},expression:"form.itinerary"}})],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2"}),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("back-button",{attrs:{url:"/tourprogram"}})],1),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group text-center"},[a("submit-button")],1)]),t._v(" "),a("div",{staticClass:"col-sm-2"})])])]},proxy:!0}])})}),[],!1,null,null,null);r.default=d.exports}}]);