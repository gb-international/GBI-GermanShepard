(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{15:function(t,e,s){"use strict";var i=s(0),n=Object(i.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold"},[this._t("default",[this._v("submit")])],2)}),[],!1,null,null,null);e.a=n.exports},17:function(t,e,s){"use strict";var i={props:["url"],methods:{goBack:function(){this.$router.back()}}},n=s(0),a=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t.url?s("router-link",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{to:t.url},on:{click:function(e){return t.goBack()}}},[t._t("default",[t._v("Back")])],2):s("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._t("default",[t._v("Back")])],2)],1)}),[],!1,null,null,null);e.a=a.exports},3:function(t,e,s){"use strict";var i=s(0),n=Object(i.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row justify-content-around"},[e("div",{staticClass:"col-md-12 pl-4 pb-5"},[this._t("formdata")],2)])])])}),[],!1,null,null,null);e.a=n.exports},305:function(t,e,s){"use strict";s.r(e);var i=s(1),n=s(4),a=s(3),r={name:"NewRole",components:{Form:i.Form,"has-error":i.HasError,"form-buttons":n.a,"form-layout":a.a},data:function(){return{permissions:[],has_permission:[],not_has_permission:[],items:[],form:new i.Form({name:"",permissions:""})}},created:function(){var t=this,e="/api/role/".concat(this.$route.params.id,"/edit");axios.get(e).then((function(e){setTimeout((function(){return $("#example").DataTable()}),1e3),t.form.fill(e.data),t.has_permission=e.data.permissions})),axios.get("/api/permission").then((function(e){setTimeout((function(){return $("#example").DataTable()}),1e3),t.permissions=e.data;for(var s=0;s<t.permissions.length;s++)t.items.push({id:t.permissions[s].id});for(var i=0;i<t.items.length;i++){var n=0;for(s=0;s<t.has_permission.length;s++)t.items[i].id==t.has_permission[s].id&&(n=1);0==n&&(t.items[i].id=!1)}}))},methods:{UpdateRole:function(){var t=this;this.form.permissions=this.items,this.form.put("/api/role/".concat(this.$route.params.id)).then((function(e){t.$router.push("/list-role/"),t.$toast.fire({icon:"success",title:"Successfully Updated"})})).catch((function(){}))},goBack:function(){this.$router.push("/list-role/")}}},o=s(0),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form-layout",{scopedSlots:t._u([{key:"formdata",fn:function(){return[s("form",{attrs:{role:"form",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.UpdateRole()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Role name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",placeholder:"Enter School name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"name"}})],1)]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"row"},t._l(t.permissions,(function(e,i){return s("div",{key:e.id,staticClass:"col-sm-4"},[s("label",{staticClass:"form-check-label font-18 mb-20"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.items[i].id,expression:"items[index].id"}],attrs:{type:"checkbox",name:"checkbox","true-value":e.id},domProps:{value:e.id,checked:Array.isArray(t.items[i].id)?t._i(t.items[i].id,e.id)>-1:t._q(t.items[i].id,e.id)},on:{change:function(s){var n=t.items[i].id,a=s.target,r=!!a.checked&&e.id;if(Array.isArray(n)){var o=e.id,c=t._i(n,o);a.checked?c<0&&t.$set(t.items[i],"id",n.concat([o])):c>-1&&t.$set(t.items[i],"id",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.items[i],"id",r)}}}),t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),s("hr")])})),0)])]),t._v(" "),s("form-buttons")],1)]},proxy:!0}])})}),[],!1,null,null,null);e.default=c.exports},4:function(t,e,s){"use strict";var i=s(17),n=s(15),a={components:{"back-button":i.a,"submit-button":n.a}},r=s(0),o=Object(r.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-8"},[e("back-button"),this._v(" "),e("submit-button")],1)])}),[],!1,null,null,null);e.a=o.exports}}]);