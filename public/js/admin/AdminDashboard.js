(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{277:function(t,i,a){"use strict";a.r(i);var s={name:"List",data:function(){return{oddclass:!1,evenclass:!0,notifications:[],unread:0}},created:function(){this.notificationList()},methods:{notificationList:function(){var t=this;axios.get("/gbiuser/notifications").then((function(i){if(i.data){t.notifications=i.data;for(var a=0;a<t.notifications.length;a++)t.notifications[a].read_at||t.unread++}}))},markRead:function(t){axios.get("/gbiuser/notification-mark-read/"+t).then((function(t){}))},deletetour:function(t){var i=this,a="api/tours/destroy/"+t;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(setTimeout((function(){return $("#example").DataTable()}),1e3),axios.post(a).then((function(t){i.$store.dispatch("getAllData","/api/schools")})),i.$swal.fire("Deleted!","Your file has been deleted.","success"))}))}}},e=a(0),n=Object(e.a)(s,(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("section",{staticClass:"content"},[a("h3",{staticClass:"text-center"},[t._v("GBI Dashboard")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"}),t._v(" "),a("div",{staticClass:"col-sm-6 notification_list"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h6",[t._v("Notifications "),a("span",{staticClass:"badge badge-success pull-right"},[t._v(t._s(t.unread))])]),t._v(" "),a("hr"),t._v(" "),0==t.notifications.length?a("div",{staticClass:"text-center"},[t._v("***** You have no notification *****")]):t._e(),t._v(" "),t._l(t.notifications,(function(i){return a("div",{key:i.id,staticClass:"list"},[i.read_at?a("div",{staticClass:"alert alert-secondary"},[a("router-link",{staticClass:"edit_link",attrs:{to:"/view-itinerary/"+i.data.itinerary_id}},[a("p",{staticClass:"text-dark"},[a("b",[t._v(t._s(i.data.from)+" ")]),t._v(" "+t._s(i.data.body)+" ")])]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(i.created_at))])],1):a("div",{staticClass:"alert alert-info",on:{click:function(a){return t.markRead(i.id)}}},[a("router-link",{staticClass:"edit_link",attrs:{to:"/view-itinerary/"+i.data.itinerary_id}},[a("p",[a("b",[t._v(t._s(i.data.from)+" ")]),t._v(" "+t._s(i.data.body)+" ")])]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(i.created_at))])],1)])}))],2)])])]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"})])}],!1,null,null,null);i.default=n.exports}}]);