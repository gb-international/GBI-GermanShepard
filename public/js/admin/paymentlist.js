(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{12:function(t,s,a){"use strict";var e={components:{"back-button":a(17).a},props:["backurl"]},o=a(0),i=Object(o.a)(e,(function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"content"},[s("div",{staticClass:"row pt-3 pb-4"},[s("div",{staticClass:"col-sm-12 card_view"},[this._t("viewdata"),this._v(" "),s("div",{staticClass:"text-center"},[s("back-button",{attrs:{url:this.backurl}})],1)],2)])])}),[],!1,null,null,null);s.a=i.exports},17:function(t,s,a){"use strict";var e={props:["url"],methods:{goBack:function(){this.$router.back()}}},o=a(0),i=Object(o.a)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("span",[t.url?a("router-link",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{to:t.url},on:{click:function(s){return t.goBack()}}},[t._t("default",[t._v("Back")])],2):a("button",{staticClass:"btn btn-primary itrn_add_btn back_btn text-uppercase font-weight-bold",attrs:{type:"button"},on:{click:function(s){return t.goBack()}}},[t._t("default",[t._v("Back")])],2)],1)}),[],!1,null,null,null);s.a=i.exports},261:function(t,s,a){"use strict";a.r(s);var e=a(12),o=a(33),i={components:{"view-layout":e.a,"add-button":o.a},data:function(){return{show_json:!1,tour_view:[],form:{id:0,amount:"",status:"pending"},student_list:!1,edit_id:0}},beforeMount:function(){this.tourPayment()},methods:{tourModal:function(t){this.form.id=t.id,this.form.amount=t.amount,this.form.status=t.status},tourPayment:function(){var t=this,s={school_id:this.$route.params.school_id,tour_code:this.$route.params.tour_code};axios.post("/api/payments/list",s).then((function(s){t.tour_view=s.data}))},tourPaymentSave:function(){var t=this;if(0==this.form.amount.length)return this.$swal.fire({icon:"error",title:"Valid Data",text:"Please enter valid amount!"}),!1;axios.post("/api/createpayment",this.form).then((function(s){t.tourPayment(),t.$swal.fire({icon:"success",title:"Successfull",text:"Details are saved !!!"})}))},goBack:function(){this.$router.go(-1)}}},n=a(0),r=Object(n.a)(i,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("view-layout",{scopedSlots:t._u([{key:"viewdata",fn:function(){return[a("div",{staticClass:"row pl-4"},[a("div",{staticClass:"col-sm-12 text-right top_btn"},[a("add-button",{staticClass:"mr-3",attrs:{url:"/bookedusers/"+t.$route.params.school_id+"/"+t.$route.params.tour_code}},[t._v("Payment History")]),t._v(" "),t.tour_view.tour_code?a("add-button",{attrs:{url:"/update-paymentmethod/"+t.tour_view.id}},[t._v("Update Payment Method")]):a("add-button",{attrs:{url:"/add-paymentmethod/"+t.$route.params.school_id+"/"+t.$route.params.tour_code}},[t._v("Add Payment Method")])],1)]),t._v(" "),a("div",{staticClass:"card_view pl-4"},[a("br"),t._v(" "),t.tour_view.tour_code?a("div",{staticClass:"row"},[null!=t.tour_view.tour_code?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Tour Code")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.tour_code))])]):t._e(),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("User Name")]),t._v(" "),a("p",[a("router-link",{attrs:{to:"/user/"+t.tour_view.user_id}},[t._v("\n              "+t._s(t.tour_view.user.name))])],1)]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Added By")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.added_by))])]),t._v(" "),null!=t.tour_view.schoolbankdetail_id?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("School Bank Detail ID")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.schoolbankdetail_id))])]):t._e(),t._v(" "),null!=t.tour_view.payment_mode?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Payment By")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.payment_mode))])]):t._e(),t._v(" "),null!=t.tour_view.payment_type?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Payment Type")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.payment_type))])]):t._e(),t._v(" "),null!=t.tour_view.ifsc_code?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("IFSC Code")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.ifsc_code))])]):t._e(),t._v(" "),null!=t.tour_view.amount?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Amount")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.amount))])]):t._e(),t._v(" "),null!=t.tour_view.cheque_bank_name?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Cheque Bank Name")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.cheque_bank_name))])]):t._e(),t._v(" "),null!=t.tour_view.date_of_issue?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Date of Issue")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.date_of_issue))])]):t._e(),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Status")]),t._v(" "),"success"==t.tour_view.status?a("p",[a("span",{staticClass:"badge badge-success"},[t._v("Success")])]):a("p",[a("span",{staticClass:"badge badge-primary"},[t._v("Pending")])])]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Added At")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.created_at))])]),t._v(" "),"self"==t.tour_view.payment_mode?a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Collect Payment")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{"data-toggle":"modal","data-target":"#paymentModal"},on:{click:function(s){return t.tourModal(t.tour_view)}}},[t._v("\n            Collect Payment\n          ")])]):t._e(),t._v(" "),"net"==t.tour_view.payment_type?a("div",{staticClass:"col-sm-4"},[a("h5",[a("button",{staticClass:"btn btn-info text-white",on:{click:function(s){t.show_json=!t.show_json}}},[t._v("\n              Payment Details\n            ")])])]):t._e()]):a("div",{staticClass:"text-center text-muted"},[t._v("No Data Available")]),t._v(" "),t.show_json?a("div",{staticClass:"row pl-4"},[a("table",{},[a("tbody",t._l(JSON.parse(t.tour_view.payment_data),(function(s,e,o){return a("tr",{key:o},[a("td",[a("p",{staticClass:"mr-5"},[a("b",[t._v(t._s(e)+" : ")]),t._v(" "),a("i",[t._v(t._s(s)+" ")])])])])})),0)])]):t._e(),t._v(" "),"self"==t.tour_view.payment_type?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("h5",[t._v("Amount")]),t._v(" "),a("p",[t._v(t._s(t.tour_view.amount))])])]):t._e()]),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"paymentModal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Tour Payment")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              Ã—\n            ")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("label",[t._v(" Collect Amount ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.amount,expression:"form.amount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.amount},on:{input:function(s){s.target.composing||t.$set(t.form,"amount",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",[t._v(" Payment Status ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-control",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status",s.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"pending"}},[t._v("Pending")]),t._v(" "),a("option",{attrs:{value:"success"}},[t._v("Success")])])])])]),t._v(" "),a("p",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-info itrn_add_btn",attrs:{type:"button"},on:{click:function(s){return t.tourPaymentSave()}}},[t._v("\n              Save\n            ")])])])])])]},proxy:!0}])})}),[],!1,null,null,null);s.default=r.exports},33:function(t,s,a){"use strict";var e={props:["url"]},o=a(0),i=Object(o.a)(e,(function(){var t=this.$createElement;return(this._self._c||t)("router-link",{staticClass:"text-uppercase font-weight-bold",attrs:{to:this.url}},[this._t("default",[this._v("add")])],2)}),[],!1,null,null,null);s.a=i.exports}}]);