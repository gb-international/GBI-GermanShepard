"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7163],{46010:(t,a,o)=>{o.d(a,{Z:()=>i});var e=o(1519),n=o.n(e)()((function(t){return t[1]}));n.push([t.id,".widthControl[data-v-60b90648]{width:70%!important}@media only screen and (max-width:824px){.widthControl[data-v-60b90648]{width:90%!important}}",""]);const i=n},76015:(t,a,o)=>{o.d(a,{Z:()=>i});var e=o(1519),n=o.n(e)()((function(t){return t[1]}));n.push([t.id,".TourLogin[data-v-69011e7b]{color:#f77736!important;font-size:18px!important}",""]);const i=n},59489:(t,a,o)=>{o.d(a,{Z:()=>n});const e={props:["text"],data:function(){return{}}};const n=(0,o(51900).Z)(e,(function(){var t=this,a=t.$createElement;return(t._self._c||a)("h1",{staticClass:"gbi_main-heading pt-3 text-capitalize"},[t._v("\n    "+t._s(t.text)+"\n")])}),[],!1,null,null,null).exports},44644:(t,a,o)=>{o.d(a,{Z:()=>n});const e={props:["text"]};const n=(0,o(51900).Z)(e,(function(){var t=this,a=t.$createElement;return(t._self._c||a)("p",{staticClass:"gbi_paragraph largeFirstLetter pt-2"},[t._v("\n    "+t._s(t.text)+"\n")])}),[],!1,null,null,null).exports},51430:(t,a,o)=>{o.d(a,{Z:()=>n});const e={props:["text"],data:function(){return{}}};const n=(0,o(51900).Z)(e,(function(){var t=this,a=t.$createElement;return(t._self._c||a)("h4",{staticClass:"gbi_sub-heading text-capitalize m-0 p-0"},[t._v("\n    "+t._s(t.text)+"\n")])}),[],!1,null,null,null).exports},64861:(t,a,o)=>{o.r(a),o.d(a,{default:()=>b});var e=o(50175),n=o(69622);function i(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}const r={name:"tourLogin",components:{Form:e.Form,HasError:e.HasError,loader:n.Z},data:function(){var t;return i(t={formno:"1",isRunning:!1,interval:null,isLoading:!1,loginform:new e.Form({phone_no:"",otp:""}),login_message:"",otp_validate:0,otp_button:1,verify_button:0,otp_verify:0,otp_id:""},"interval",null),i(t,"running_time",0),i(t,"time",90),t},methods:{test_otp:function(){this.$root.$emit("login-tour")},send_otp:function(t){var a=this,o=this.loginform.phone_no;if(o.match(/^[789]\d{9}$/)){var e=new FormData;e.append("phone_no",o),e.append("_method","post");this.$axios.post("/api/sendotp3",e).then((function(t){t.data.success?(a.otp_id=t.data.otp_id,a.otp_button=0,a.otp_verify=1,a.verify_button=1,a.running_time=1,a.toggleTimer(),a.$swal.fire("Otp Sent","Otp sent To your number!!","success")):a.$swal.fire(t.data.error)})).catch((function(t){return a.$swal.fire("The phone no. isn't valid.")}))}else this.$swal.fire("Invalid Phone Number")},toggleTimer:function(){this.isRunning?clearInterval(this.interval):this.interval=setInterval(this.incrementTime,1e3),this.isRunning=!this.isRunning},incrementTime:function(){this.time=parseInt(this.time)-1,0==this.time&&(this.otp_button=1,this.otp_verify=0,this.verify_button=0,this.running_time=0,this.loginform.phone_no="",this.time=90,this.isRunning=!this.isRunning,clearInterval(this.interval),this.$swal.fire("Alert","Time Over !!!","error","customClass"))},otp_verify_user:function(t){var a=this,o=this.loginform.otp,e=this.otp_id;if(4==o.length){var n=new FormData;n.append("otp",o),n.append("id",e),n.append("slug1",this.$route.params.name),n.append("slug2",this.$route.params.id),n.append("phone_no",this.loginform.phone_no),n.append("_method","post");this.$axios.post("/api/otpverify-tour",n).then((function(t){a.otp_button=0,"success"==t.data.type?(a.otp_validate=1,a.verify_button=0,a.running_time=0,a.otp_button=0,a.otp_verify=1,a.verify_button=0,a.toggleTimer(),localStorage.setItem("tour_otp",o),localStorage.setItem("tour_otp_id",e),a.$root.$emit("login-tour")):a.$swal.fire({icon:"error",title:"Oops...",text:"Invalid OTP!!!"})})).catch((function(t){return a.$swal.fire(t)}))}else this.$swal.fire("Please Enter Valid Otp")}}};var s=o(93379),l=o.n(s),p=o(76015),u={insert:"head",singleton:!1};l()(p.Z,u);p.Z.locals;var c=o(51900);const g=(0,c.Z)(r,(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{attrs:{id:"tourLogin"}},[o("div",{staticClass:"mx-auto border-0"},[t._m(0),t._v(" "),o("div",{staticClass:"pb-4 loginform"},[o("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[o("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-login",role:"tabpanel","aria-labelledby":"pills-login-tab"}},[o("form",{attrs:{role:"form",id:"login-form",enctype:"multipart/form-data"}},[t.otp_button?o("div",{staticClass:"input_with_button"},[o("div",{staticClass:"input-group mb-2"},[o("div",{staticClass:"input-group-prepend"},[o("span",{staticClass:"input-group-text"},[o("img",{staticClass:"icon-width",attrs:{src:t.$gbiAssets+"/images/icons/mobile.png"}})])]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginform.phone_no,expression:"loginform.phone_no"}],staticClass:"form-control",class:{"is-invalid":t.loginform.errors.has("phone_no")},attrs:{id:"phone_no",type:"text",placeholder:"Enter Phone No."},domProps:{value:t.loginform.phone_no},on:{input:function(a){a.target.composing||t.$set(t.loginform,"phone_no",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.loginform,field:"phone_no"}})],1)]):t._e(),t._v(" "),t.otp_button?o("div",{staticClass:"input_button"},[o("div",{staticClass:"input-group mb-1"},[o("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.send_otp}},[t._v("\n                  Send OTP\n                ")])])]):t._e(),t._v(" "),t.otp_verify?o("div",{staticClass:"input_with_button input_verify"},[o("div",{staticClass:"input-group mb-1"},[t._m(1),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginform.otp,expression:"loginform.otp"}],staticClass:"form-control",class:{"is-invalid":t.loginform.errors.has("otp")},attrs:{type:"text",placeholder:"OTP"},domProps:{value:t.loginform.otp},on:{input:function(a){a.target.composing||t.$set(t.loginform,"otp",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.loginform,field:"otp"}})],1)]):t._e(),t._v(" "),o("div",{staticClass:"input_button"},[o("div",{staticClass:"input-group mb-1"},[t.running_time?o("span",{staticClass:"timer"},[t._v("Time : "+t._s(t.time))]):t._e(),t._v(" "),t.verify_button?o("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.otp_verify_user}},[t._v("\n                  VERIFY\n                ")]):t._e(),t._v(" "),t.otp_validate?o("p",{staticStyle:{"font-size":"30px",color:"green","margin-top":"12px",position:"absolute",right:"30px"}},[o("i",{staticClass:"fas fa-check-circle"})]):t._e()])]),t._v(" "),1==t.isLoading?o("loader"):t._e()],1)])])])])])}),[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"border-bottom-0 bg-transparent"},[o("ul",{staticClass:"nav nav-tabs justify-content-center",attrs:{id:"pills-tab",role:"tablist"}},[o("li",{staticClass:"nav-item"},[o("a",{staticClass:"nav-link TourLogin",attrs:{id:"pills-login-tab","data-toggle":"pill",href:"#pills-login",role:"tab","aria-controls":"pills-login","aria-selected":"true"}},[t._v("Tour Login")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"})])}],!1,null,"69011e7b",null).exports;var d=o(59489),_=o(51430),m=o(44644);const v={name:"TourPage",components:{heading:d.Z,"sub-heading":_.Z,paragraph:m.Z,"tour-login":g},data:function(){return{tourData:[],allCreated:!1,logged:!1}},metaInfo:{title:"Tour Page | GBI",meta:[{name:"description",content:"We, GB International deal in providing customized itineraries to educational institutions, corporates, and to family travellers."},{name:"keywords",content:"@GoWithGBI,Our Story,about us,GBI Process,Program Engineering Process ,GBI How we work,learn,explore,discover,dream travel journeys,behind the scenes,dream,educational programs,corporate events,team building programs,international programs,domestic programs"},{name:"url",content:"https://www.gowithgbi.com/"}]},beforeCreate:function(){document.cookie="GBIMeta ="+JSON.stringify({title:"Tour Page | GBI",description:"We, GB International deal in providing customized itineraries to educational institutions, corporates, and to family travellers.",keywords:"@GoWithGBI,Our Story,about us,GBI Process,Program Engineering Process ,GBI How we work,learn,explore,discover,dream travel journeys,behind the scenes,dream,educational programs,corporate events,team building programs,international programs,domestic programs",url:"https://www.gowithgbi.com/",type:"website"})+"; path=/"},created:function(){this.getTour()},beforeMount:function(){"logged"==this.logged&&this.getTour()},mounted:function(){var t=this;this.$root.$on("login-tour",(function(){t.getTour(),t.logFunc(),t.$swal.fire("Logged","You are logged in","success")}))},methods:{getTour:function(){var t=this,a=localStorage.getItem("tour_otp"),o=localStorage.getItem("tour_otp_id");this.$axios.get("/api/tour-data/".concat(this.$route.params.name,"/").concat(this.$route.params.id,"/").concat(a,"/").concat(o)).then((function(a){0==a.data.logged?(localStorage.setItem("tourLog",""),t.logged=localStorage.getItem("tourLog"),t.$root.$emit("tour-log"),t.allCreated=!0):(t.tourData=a.data,t.logFunc(),t.allCreated=!0)}))},logFunc:function(){localStorage.setItem("tourLog","logged"),this.$root.$emit("tour-log"),this.logged=localStorage.getItem("tourLog")},formatDate:function(t){var a=t.match(/\d+/g),o=a[0].substring(2),e=a[1];return a[2]+"/"+e+"/"+o}}};var h=o(46010),f={insert:"head",singleton:!1};l()(h.Z,f);h.Z.locals;const b=(0,c.Z)(v,(function(){var t=this,a=t.$createElement,o=t._self._c||a;return t.allCreated?o("div",{attrs:{id:"tourPage"}},["logged"==t.logged?o("section",[t._m(0),t._v(" "),t.allCreated?o("div",{staticClass:"container"},[o("h1",{staticClass:"gbi_main-heading pt-3 text-capitalize",staticStyle:{"margin-bottom":"10px !important"}},[t._v("\n          "+t._s(t.tourData.school_name)+"\n      ")]),t._v(" "),o("h4",{staticClass:"gbi_sub-heading text-capitalize m-0 p-0"},[t._v("\n          "+t._s(t.tourData.trip_name)+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph mt-5"},[o("b",[t._v("Tour Starting from:")]),t._v(" "+t._s(t.formatDate(t.tourData.start_date))+" \n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Tour Ends on:")]),t._v(" "+t._s(t.formatDate(t.tourData.end_date))+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Number of students travelling:")]),t._v(" "+t._s(t.tourData.no_of_student)+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Number of teachers travelling:")]),t._v(" "+t._s(t.tourData.no_of_teachers)+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Total cost per student:")]),t._v(" ₹"+t._s(t.tourData.amt_per_pax.toLocaleString())+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Total Amount:")]),t._v(" ₹"+t._s(t.tourData.amount_total.toLocaleString())+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Total Paid:")]),t._v(" ₹"+t._s(t.tourData.amount_paid.toLocaleString())+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Pending Amount:")]),t._v(" ₹"+t._s(t.tourData.amount_pending.toLocaleString())+"\n      ")]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Payment Status:")]),t._v(" "),1==t.tourData.payment_status?o("span",{staticStyle:{color:"green"}},[t._v("Complete")]):3==t.tourData.payment_status?o("span",{staticStyle:{color:"orange"}},[t._v("In Progress")]):o("span",{staticStyle:{color:"yellow"}},[t._v("Pending")])]),t._v(" "),o("p",{staticClass:"gbi_paragraph pt-1"},[o("b",[t._v("Booking Status:")]),t._v(" "),o("span",{style:1==t.tourData.booking_status?"color: green":"color: orange"},[t._v(t._s(1==t.tourData.booking_status?"Confirmed":"In Progress"))])]),t._v(" "),o("div",{staticClass:"clear"})]):t._e()]):o("section",[o("div",{staticClass:"modal show",staticStyle:{"padding-right":"17px",display:"block"},attrs:{id:"LoginForm","aria-modal":"true"}},[o("div",{staticClass:"modal-dialog w-100"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-body loginform"},[o("tour-login")],1)])])])])]):t._e()}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text_on_image banner_bg",staticStyle:{"background-image":"url('https://gbi-assets.s3.ap-south-1.amazonaws.com/itinerary-image-63fc4ca9d91b5-1677479081129070.jpeg')","background-position":"center"}},[a("div",{staticClass:"content"})])}],!1,null,"60b90648",null).exports}}]);