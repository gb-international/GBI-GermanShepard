<template>
  <div id="payment_mode">
    
  <div class="container-fluid p-0">
    <section class="p-3 p-lg-5 d-flex flex-column">
      <div class="my-auto">
        <div id="accordion" role="tablist" aria-multiselectable="true">
          <!-- Accordion Item 1 -->
          <div class="card">
            <div class="card-header" role="tab" id="accordionHeadingOne">
              <div class="mb-0 row">
                <div class="col-12 no-padding accordion-head">
                  <a data-toggle="collapse" data-parent="#accordion" href="#accordionBodyOne" aria-expanded="false" aria-controls="accordionBodyOne"
                    class="collapsed ">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                    <h5>Debit Card</h5>
                  </a>
                </div>
              </div>
            </div>

            <div id="accordionBodyOne" class="collapse" role="tabpanel" aria-labelledby="accordionHeadingOne" aria-expanded="false" data-parent="accordion">
              <div class="card-block col-12">
                <div class="row justify-content-center">
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://logos-download.com/wp-content/uploads/2016/06/Bank_of_Baroda_logo.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>

          
          <!-- Accordion Item 2 -->
          <div class="card">
            <div class="card-header" role="tab" id="creditTab">
              <div class="mb-0 row">
                <div class="col-12 no-padding accordion-head">
                  <a data-toggle="collapse" data-parent="#accordion" href="#creditBodyOne" aria-expanded="false" aria-controls="creditBodyOne"
                    class="collapsed ">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                    <h5>Credit Card</h5>
                  </a>
                </div>
              </div>
            </div>

            <div id="creditBodyOne" class="collapse" role="tabpanel" aria-labelledby="creditTab" aria-expanded="false" data-parent="accordion">
              <div class="card-block col-12">
                <div class="row justify-content-center">
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://logos-download.com/wp-content/uploads/2016/06/Bank_of_Baroda_logo.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>

          
          <!-- Accordion Item 3 -->
          <div class="card">
            <div class="card-header" role="tab" id="NetBankingTab">
              <div class="mb-0 row">
                <div class="col-12 no-padding accordion-head">
                  <a data-toggle="collapse" data-parent="#accordion" href="#netBankingBodyOne" aria-expanded="false" aria-controls="netBankingBodyOne"
                    class="collapsed ">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                    <h5>Net Banking</h5>
                  </a>
                </div>
              </div>
            </div>

            <div id="netBankingBodyOne" class="collapse" role="tabpanel" aria-labelledby="NetBankingTab" aria-expanded="false" data-parent="accordion">
              <div class="card-block col-12">
                <div class="row justify-content-center">
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://logos-download.com/wp-content/uploads/2016/06/Bank_of_Baroda_logo.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>

          
          <!-- Accordion Item 4 Cheque -->
          <div class="card">
            <div class="card-header" role="tab" id="ChequeTab">
              <div class="mb-0 row">
                <div class="col-12 no-padding accordion-head">
                  <a data-toggle="collapse" data-parent="#accordion" href="#ChequeBodyOne" aria-expanded="false" aria-controls="ChequeBodyOne"
                    class="collapsed ">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                    <h5>Cheque</h5>
                  </a>
                </div>
              </div>
            </div>

            <div id="ChequeBodyOne" class="collapse" role="tabpanel" aria-labelledby="ChequeTab" aria-expanded="false" data-parent="accordion">
              <div class="card-block col-12">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Father's Name</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Student Name</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Class Name</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">IFSC Code</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Cheque Number</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>

          
          <!-- Accordion Item 4 Demand Draft -->
          <div class="card">
            <div class="card-header" role="tab" id="draftTab">
              <div class="mb-0 row">
                <div class="col-12 no-padding accordion-head">
                  <a data-toggle="collapse" data-parent="#accordion" href="#draftBodyOne" aria-expanded="false" aria-controls="draftBodyOne"
                    class="collapsed ">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                    <h5>Demand Draft</h5>
                  </a>
                </div>
              </div>
            </div>

            <div id="draftBodyOne" class="collapse" role="tabpanel" aria-labelledby="draftTab" aria-expanded="false" data-parent="accordion">
              <div class="card-block col-12">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Father's Name</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Student Name</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Class</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>

                  
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="father_name">Demand Draft Number</label>
                      <input type="text" class="form-control">
                    </div>
                  </div>



                </div>
              </div>
            </div>
          </div>

          
          <!-- Accordion Item 4 Cash -->
          <div class="card">
            <div class="card-header" role="tab" id="cashTab">
              <div class="mb-0 row">
                <div class="col-12 no-padding accordion-head">
                  <a data-toggle="collapse" data-parent="#accordion" href="#cashBodyOne" aria-expanded="false" aria-controls="cashBodyOne"
                    class="collapsed ">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                    <h5>Cash</h5>
                  </a>
                </div>
              </div>
            </div>

            <div id="cashBodyOne" class="collapse" role="tabpanel" aria-labelledby="cashTab" aria-expanded="false" data-parent="accordion">
              <div class="card-block col-12">
                <div class="row justify-content-center">
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://logos-download.com/wp-content/uploads/2016/06/Bank_of_Baroda_logo.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-sm-4">
                    <div class="card-image-payment">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="customRadio" name="example" value="customEx">
                        <label class="custom-control-label" for="customRadio"><img src="https://4.imimg.com/data4/IF/LG/IMOB-42756636/logokotaklifeinsurance-500x500.png"></label>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>












        </div>
      </div>
    </section>
  </div>
  </div>
</template>

<script>
import VueRecaptcha from "vue-recaptcha";
import { Form, HasError, AlertError } from "vform";
export default {
  name: "Tour-list",
  components: {
    "vue-recaptcha": VueRecaptcha,
    "has-error": HasError,
  },
  data() {
    return {
      tours: "",
      formShow: false,
      payment_mode: "self",
      bankdetail: [],
      banknames: [],
      userinfo: "",
      robot: false,
      form: new Form({
        name: "",
        bank_name: "",
        account_number: "",
        account_type: "",
        ifsc_code: "",
      }),
      account_type: [
        "Current Account",
        "Saving Account",
        "Recurring Deposit Account",
        "Fixed Deposit Account",
      ],
      banknames: [],
    };
  },
  mounted() {
    if (localStorage.token == undefined) {
      this.$router.push("/");
    }
    this.bankNameList();
    this.tourBank();
    this.userData();
  },

  methods: {
    onVerify: function (response) {
      if (response) this.robot = true;
    },
    onCaptchaExpired: function () {
      this.$refs.recaptcha.reset();
    },

    tourBank() {
      var data = [];
      this.$axios
        .post("/api/tour-bankdetail", data, {
          headers: { Authorization: `Bearer ${localStorage.token}` },
        })
        .then((response) => {
          this.bankdetail = response.data;
        })
        .catch((error) => {
          this.formShow = true;
          this.handleError(error);
        });
    },
    userData() {
      var data = { travel_code: this.$route.params.id };
      this.$axios
        .post("/api/payment-tour", data, {
          headers: { Authorization: `Bearer ${localStorage.token}` },
        })
        .then((response) => {
          this.userinfo = response.data;
          console.log(this.userinfo);
        })
        .catch((error) => {
          this.handleError(error);
        });
    },
    ModalForm() {
      this.$axios
        .post("/api/tour-bankdetail-store", this.form, {
          headers: { Authorization: `Bearer ${localStorage.token}` },
        })
        .then((response) => {
          this.form.reset();
          this.$swal.fire({
            icon: "success",
            title: "Beneficary Added !!",
          });
        })
        .catch((error) => {
          this.handleError(error);
        });
    },

    submitPayment() {
      if (this.robot == false) {
        this.$swal.fire({
          icon: "error",
          title: "Try Again !!",
        });
        return false;
      }
      if (this.payment_mode == "self") {
        this.$route.push("/payment-mode");
      } else {
        console.log("student");
      }
      return false;
    },

    bankNameList() {
      this.$axios.get("/api/banknames").then((response) => {
        this.banknames = response.data;
      });
    },
  },
};
</script>
